server:
  port: 8081

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/
spring:
  application:
    name: gateway
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/menhu?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf-8
    driver-class-name: com.mysql.cj.jdbc.Driver
    password: 123
    username: root
  jpa:
    database-platform: org.hibernate.dialect.MySQL5InnoDBDialect
    hibernate:
      ddl-auto: update
    show-sql: true
  cloud:
    gateway:
      routes:
        - id: client
          uri: lb://client
          predicates:
            - Path=/client/**
#          filters:
#            - StripPrefix=0
        - id: ptp-auth
          uri: lb://ptp-auth
          predicates:
            - Path=/ptp-auth/**
mybatis:
  mapper-locations: classpath*:mapper/*Mapper.xml
  configuration:
    call-setters-on-nulls: true
    map-underscore-to-camel-case: true
management:
  endpoints:
    web:
      exposure:
        include: "*"
      cors:
        #本地前端地址http://localhost:8000
        allowed-origins: "*"
        allowed-methods: "*"
        allowed-headers: "*"
        allow-credentials: true
security:
  oauth2:
    client:
      clientId: client_1
      clientSecret: 123456
      userAuthorizationUri: http://localhost:8082/ptp-auth/oauth/authorize
      grant-type: code
      scope: all
      access-token-uri: http://localhost:8082/ptp-auth/oauth/token
    resource:
      token-info-uri: http://localhost:8082/ptp-auth/oauth/check_token
      prefer-token-info: true

logging:
  level:
    root: info

